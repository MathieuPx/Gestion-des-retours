<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Espace Client AAI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
  <style>
    :root {
      --bleu-fonce: #0b1e49;
      --bleu-clair: #113267;
      --jaune-aai: #ffe04c;
      --gris-fond: #f8f9fc;
      --gris-texte: #64748b;
      --bordure: #e2e8f0;
      --shadow-light: 0 4px 8px rgba(0, 0, 0, 0.05);
      --blanc: #ffffff;
    }

    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: var(--gris-fond);
    }

    .dashboard {
      display: flex;
      min-height: 100vh;
    }

    .sidebar {
      width: 240px;
      background-color: var(--bleu-fonce);
      color: white;
      display: flex;
      flex-direction: column;
      padding: 2rem 1rem;
    }

    .sidebar button {
      background: none;
      border: none;
      color: white;
      font-size: 1rem;
      padding: 0.8rem 1rem;
      border-radius: 10px;
      margin-bottom: 0.7rem;
      cursor: pointer;
      transition: background 0.3s;
      text-align: left;
    }

    .sidebar button:hover {
      background-color: var(--bleu-clair);
    }

    .main-content {
      flex: 1;
      padding: 2rem;
    }

    h1 {
      color: var(--bleu-fonce);
    }

    h2 {
      color: var(--bleu-clair);
    }

    .info-box {
      padding: 0.6rem;
      background: var(--gris-fond);
      border: 1px solid var(--bordure);
      border-radius: 6px;
      margin-top: 0.2rem;
      font-weight: 500;
      color: var(--bleu-fonce);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
    }

    th, td {
      padding: 0.8rem;
      border-bottom: 1px solid var(--bordure);
    }

    th {
      background-color: var(--bleu-clair);
      color: white;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="dashboard">
    <aside class="sidebar">
      <div style="font-weight: bold; margin-bottom: 2rem; text-align: center;">
        👤 <span id="nom"></span>
      </div>
      <button onclick="afficherSection('retours')">🏠 Accueil</button>
      <button onclick="afficherSection('mon-compte')">🙍‍♂️ Mon compte</button>
      <button onclick="afficherSection('ajout-retour')">➕ Ajouter un retour</button>
      <button onclick="logout()">🔓 Déconnexion</button>
    </aside>

    <main class="main-content">
      <div style="text-align:center; margin-bottom: 2rem;">
        <img src="https://tse3.mm.bing.net/th?id=OIP.-JZJlknZTwSH_jOwoWcW_gHaBZ&pid=Api&P=0&h=180" style="max-width: 280px;">
      </div>

      <section id="retours">
        <h1>Mes retours</h1>
        <div style="margin-bottom: 1rem;">
          <label for="filtre-statut">Filtrer par statut :</label>
          <select id="filtre-statut">
            <option value="">Tous</option>
            <option value="EN ATTENTE">EN ATTENTE</option>
            <option value="VALIDÉ">VALIDÉ</option>
            <option value="REFUSÉ">REFUSÉ</option>
          </select>
          <button id="exportCSV">📁 Export CSV</button>
        </div>
        <div id="retours-table">Chargement...</div>
      </section>

      <section id="mon-compte" class="hidden">
        <h2>🙍‍♂️ Mes informations</h2>
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:1rem;">
          <div><strong>Nom :</strong><div class="info-box" id="info-nom">–</div></div>
          <div><strong>Email :</strong><div class="info-box" id="info-email">–</div></div>
          <div><strong>N° Client :</strong><div class="info-box" id="info-num">–</div></div>
          <div><strong>Adresse :</strong><div class="info-box" id="info-adresse">–</div></div>
          <div><strong>Code Postal :</strong><div class="info-box" id="info-cp">–</div></div>
          <div><strong>Ville :</strong><div class="info-box" id="info-ville">–</div></div>
          <div><strong>Téléphone :</strong><div class="info-box" id="info-tel">–</div></div>
        </div>

        <h3 style="margin-top: 2rem;">🔑 Modifier le mot de passe</h3>
        <input type="password" id="new-password" placeholder="Nouveau mot de passe" style="width:100%;padding:0.5rem;margin:1rem 0;">
        <button onclick="changerMotDePasse()">💾 Enregistrer</button>
        <p id="pass-msg"></p>
      </section>

      <section id="ajout-retour" class="hidden">
        <h2>➕ Ajouter un retour</h2>
        <form id="form-retour">
          <div id="ligne-retour-container">
            <!-- Généré dynamiquement par JS -->
          </div>
          <button type="button" onclick="ajouterLigneRetour()">➕ Ajouter une autre ligne</button>
          <div id="notice-garantie" class="hidden" style="background: #fffbe6; padding: 1rem; border-left: 4px solid #ffe04c; margin-top: 1rem;">
            <strong>📦 Pour un retour en garantie :</strong><br>
            Merci de fournir : bon de livraison, facture client, garantie, carte grise.
          </div>
          <button type="submit" style="margin-top:1rem;background:#113267;color:white;padding:0.5rem 1rem;border:none;border-radius:5px;">📤 Envoyer</button>
        </form>
      </section>
    </main>
  </div>

  <script src="js/client.js"></script>
</body>
</html>

  

